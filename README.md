# MACs calculation tool

## usage
```
sh main.py --path PATH --key model
```

You will get info like this:
```
++++++++++++++++++++++++++++++  MACS CACULATION TABLE  ++++++++++++++++++++++++++++++
                      Module                            Params          MACs    
               encoder.embed_tokens                    4530176        4530176   
        encoder.layers.0.self_attn.k_proj               262656         262400   
        encoder.layers.0.self_attn.v_proj               262656         262400   
        encoder.layers.0.self_attn.q_proj               262656         262400   
       encoder.layers.0.self_attn.out_proj              262656         262400   
      encoder.layers.0.self_attn_layer_norm              1024           768     
               encoder.layers.0.fc1                    1050624        1049600   
               encoder.layers.0.fc2                    1049088        1048832   
        encoder.layers.0.final_layer_norm                1024           768     
        encoder.layers.1.self_attn.k_proj               262656         262400   
        encoder.layers.1.self_attn.v_proj               262656         262400   
        encoder.layers.1.self_attn.q_proj               262656         262400   
       encoder.layers.1.self_attn.out_proj              262656         262400   
      encoder.layers.1.self_attn_layer_norm              1024           768     
               encoder.layers.1.fc1                    1050624        1049600   
               encoder.layers.1.fc2                    1049088        1048832   
        encoder.layers.1.final_layer_norm                1024           768     
        encoder.layers.2.self_attn.k_proj               262656         262400   
        encoder.layers.2.self_attn.v_proj               262656         262400   
        encoder.layers.2.self_attn.q_proj               262656         262400   
       encoder.layers.2.self_attn.out_proj              262656         262400   
      encoder.layers.2.self_attn_layer_norm              1024           768     
               encoder.layers.2.fc1                    1050624        1049600   
               encoder.layers.2.fc2                    1049088        1048832   
        encoder.layers.2.final_layer_norm                1024           768     
        encoder.layers.3.self_attn.k_proj               262656         262400   
        encoder.layers.3.self_attn.v_proj               262656         262400   
        encoder.layers.3.self_attn.q_proj               262656         262400   
       encoder.layers.3.self_attn.out_proj              262656         262400   
      encoder.layers.3.self_attn_layer_norm              1024           768     
               encoder.layers.3.fc1                    1050624        1049600   
               encoder.layers.3.fc2                    1049088        1048832   
        encoder.layers.3.final_layer_norm                1024           768     
        encoder.layers.4.self_attn.k_proj               262656         262400   
        encoder.layers.4.self_attn.v_proj               262656         262400   
        encoder.layers.4.self_attn.q_proj               262656         262400   
       encoder.layers.4.self_attn.out_proj              262656         262400   
      encoder.layers.4.self_attn_layer_norm              1024           768     
               encoder.layers.4.fc1                    1050624        1049600   
               encoder.layers.4.fc2                    1049088        1048832   
        encoder.layers.4.final_layer_norm                1024           768     
        encoder.layers.5.self_attn.k_proj               262656         262400   
        encoder.layers.5.self_attn.v_proj               262656         262400   
        encoder.layers.5.self_attn.q_proj               262656         262400   
       encoder.layers.5.self_attn.out_proj              262656         262400   
      encoder.layers.5.self_attn_layer_norm              1024           768     
               encoder.layers.5.fc1                    1050624        1049600   
               encoder.layers.5.fc2                    1049088        1048832   
        encoder.layers.5.final_layer_norm                1024           768     
               decoder.embed_tokens                    3395584        3395584   
        decoder.layers.0.self_attn.k_proj               262656         262400   
        decoder.layers.0.self_attn.v_proj               262656         262400   
        decoder.layers.0.self_attn.q_proj               262656         262400   
       decoder.layers.0.self_attn.out_proj              262656         262400   
      decoder.layers.0.self_attn_layer_norm              1024           768     
       decoder.layers.0.encoder_attn.k_proj             262656         262400   
       decoder.layers.0.encoder_attn.v_proj             262656         262400   
       decoder.layers.0.encoder_attn.q_proj             262656         262400   
      decoder.layers.0.encoder_attn.out_proj            262656         262400   
     decoder.layers.0.encoder_attn_layer_norm            1024           768     
               decoder.layers.0.fc1                    1050624        1049600   
               decoder.layers.0.fc2                    1049088        1048832   
        decoder.layers.0.final_layer_norm                1024           768     
        decoder.layers.1.self_attn.k_proj               262656         262400   
        decoder.layers.1.self_attn.v_proj               262656         262400   
        decoder.layers.1.self_attn.q_proj               262656         262400   
       decoder.layers.1.self_attn.out_proj              262656         262400   
      decoder.layers.1.self_attn_layer_norm              1024           768     
       decoder.layers.1.encoder_attn.k_proj             262656         262400   
       decoder.layers.1.encoder_attn.v_proj             262656         262400   
       decoder.layers.1.encoder_attn.q_proj             262656         262400   
      decoder.layers.1.encoder_attn.out_proj            262656         262400   
     decoder.layers.1.encoder_attn_layer_norm            1024           768     
               decoder.layers.1.fc1                    1050624        1049600   
               decoder.layers.1.fc2                    1049088        1048832   
        decoder.layers.1.final_layer_norm                1024           768     
        decoder.layers.2.self_attn.k_proj               262656         262400   
        decoder.layers.2.self_attn.v_proj               262656         262400   
        decoder.layers.2.self_attn.q_proj               262656         262400   
       decoder.layers.2.self_attn.out_proj              262656         262400   
      decoder.layers.2.self_attn_layer_norm              1024           768     
       decoder.layers.2.encoder_attn.k_proj             262656         262400   
       decoder.layers.2.encoder_attn.v_proj             262656         262400   
       decoder.layers.2.encoder_attn.q_proj             262656         262400   
      decoder.layers.2.encoder_attn.out_proj            262656         262400   
     decoder.layers.2.encoder_attn_layer_norm            1024           768     
               decoder.layers.2.fc1                    1050624        1049600   
               decoder.layers.2.fc2                    1049088        1048832   
        decoder.layers.2.final_layer_norm                1024           768     
        decoder.layers.3.self_attn.k_proj               262656         262400   
        decoder.layers.3.self_attn.v_proj               262656         262400   
        decoder.layers.3.self_attn.q_proj               262656         262400   
       decoder.layers.3.self_attn.out_proj              262656         262400   
      decoder.layers.3.self_attn_layer_norm              1024           768     
       decoder.layers.3.encoder_attn.k_proj             262656         262400   
       decoder.layers.3.encoder_attn.v_proj             262656         262400   
       decoder.layers.3.encoder_attn.q_proj             262656         262400   
      decoder.layers.3.encoder_attn.out_proj            262656         262400   
     decoder.layers.3.encoder_attn_layer_norm            1024           768     
               decoder.layers.3.fc1                    1050624        1049600   
               decoder.layers.3.fc2                    1049088        1048832   
        decoder.layers.3.final_layer_norm                1024           768     
        decoder.layers.4.self_attn.k_proj               262656         262400   
        decoder.layers.4.self_attn.v_proj               262656         262400   
        decoder.layers.4.self_attn.q_proj               262656         262400   
       decoder.layers.4.self_attn.out_proj              262656         262400   
      decoder.layers.4.self_attn_layer_norm              1024           768     
       decoder.layers.4.encoder_attn.k_proj             262656         262400   
       decoder.layers.4.encoder_attn.v_proj             262656         262400   
       decoder.layers.4.encoder_attn.q_proj             262656         262400   
      decoder.layers.4.encoder_attn.out_proj            262656         262400   
     decoder.layers.4.encoder_attn_layer_norm            1024           768     
               decoder.layers.4.fc1                    1050624        1049600   
               decoder.layers.4.fc2                    1049088        1048832   
        decoder.layers.4.final_layer_norm                1024           768     
        decoder.layers.5.self_attn.k_proj               262656         262400   
        decoder.layers.5.self_attn.v_proj               262656         262400   
        decoder.layers.5.self_attn.q_proj               262656         262400   
       decoder.layers.5.self_attn.out_proj              262656         262400   
      decoder.layers.5.self_attn_layer_norm              1024           768     
       decoder.layers.5.encoder_attn.k_proj             262656         262400   
       decoder.layers.5.encoder_attn.v_proj             262656         262400   
       decoder.layers.5.encoder_attn.q_proj             262656         262400   
      decoder.layers.5.encoder_attn.out_proj            262656         262400   
     decoder.layers.5.encoder_attn_layer_norm            1024           768     
               decoder.layers.5.fc1                    1050624        1049600   
               decoder.layers.5.fc2                    1049088        1048832   
        decoder.layers.5.final_layer_norm                1024           768     
            decoder.output_projection                  3395584        3395584   
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
SUM UP: total params 55459840    total MACs 55418368